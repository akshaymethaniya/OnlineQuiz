<app-navbar></app-navbar>
<div class="row">
  <div class="col s8 offset-s2">
    <h2 class="header">Completed!</h2>
    <div class="card horizontal">
      <div class="card-image">
        <img src="../../assets/img/images.png" style="width:250px;height:250px;">
      </div>
      <div class="card-stacked">
        <div class="card-content">
          <h4>{{uname}}</h4>
          

          <h3 *ngIf="tanswer;else elseBlock">{{tanswer}}/{{totalQuestion}}</h3>
          <ng-template #elseBlock>
            <h3>0/{{totalQuestion}}</h3>
          </ng-template>
          <span>Time Elapsed:{{quizService.displayTimeElapsed()}}</span>
        </div>
        <div class="card-action">
          <button class="btn" (click)="onSubmit()">Submit</button>
        </div>
      </div>
      <a class="btn-floating halfway-fab waves-effect waves-light red" >
        <i class="material-icons"(click)="restart()">replay</i>
      </a>
    </div>
    <h3>Questions with correct answer</h3>
    <ng-container *ngFor="let qn of q;let i=index">
      <div class="card blue-grey darken-1">
        <div class="card-content white-text">
          <span class="card-title">{{i+1}}</span>
          <p>{{qn.question}}</p>
        </div>
        <div class="card-action">
          <ul class="collection">
            <ng-container *ngFor="let option of qn.options;let j=index">
              <li class="collection-item">
                {{option}}
                <span class="badge" *ngIf="qn.answer==j">
                  <i class="material-icons green-text">check_circle</i>
                </span>
                <span class="badge red-text" *ngIf="ans[i]==j && qn.answer!=j">Incorrect</span>
              </li>
            </ng-container>
          </ul>
        </div>
      </div>
    </ng-container>
  </div>
</div>
<app-footer></app-footer>